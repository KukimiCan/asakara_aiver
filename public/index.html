<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Asakara</title>
  <link rel="stylesheet" href="/styles/styles.css">
</head>
<body>
  <div id="answer">
    <h1>お題が最終的に表示される場所</h1>
  </div>
  <div id="hints">
    <ul id="hint-list"></ul>
  </div>
  <div id="add_hint">
    <button id="addHintBtn">ヒント追加</button>
  </div>
  <div id="show_ans">
    <button id="showAnswerBtn">解答を見る</button>
  </div>

  <script>
    let hints = [];
    let theme = '';
    let hintIndex = 0;

    async function fetchData() {
      const res = await fetch('/api/gemini');
      const data = await res.json();
      theme = data.theme;
      hints = data.hints;
    }

    document.getElementById('addHintBtn').addEventListener('click', () => {
      if (hintIndex < hints.length) {
        const li = document.createElement('li');
        li.textContent = hints[hintIndex++];
        document.getElementById('hint-list').appendChild(li);
      }
    });

    document.getElementById('showAnswerBtn').addEventListener('click', () => {
      document.getElementById('answer').innerHTML = `<h1>お題：${theme}</h1>`;
    });

    fetchData();
  </script>
</body>
</html>
